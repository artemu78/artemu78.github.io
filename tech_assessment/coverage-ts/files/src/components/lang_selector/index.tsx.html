
  <!DOCTYPE html>
  <html>
    <head>
      <title>index.tsx</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="..\..\..\..\assets\source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="..\..\..\..\assets\source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="..\..\..\..\index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src\components\lang_selector\index.tsx</td><td class="">100.00%</td><td class="">80%</td><td class="">156</td><td class="">156</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { useContext, useMemo } from &quot;react&quot;;
import FormControl from &quot;@mui/material/FormControl&quot;;
import InputLabel from &quot;@mui/material/InputLabel&quot;;
import MenuItem from &quot;@mui/material/MenuItem&quot;;
import Select, { SelectChangeEvent } from &quot;@mui/material/Select&quot;;
import { setCookie } from &quot;tools&quot;;
import { files } from &quot;tools/const&quot;;
import { LangContext, QuestionsContext, ResultsContext } from &quot;context/usecontext&quot;;
import styles from &quot;./styles.module.css&quot;;
import { IQuizItemResult, EquizItemState, Langs } from &quot;context/types&quot;;

// import SkipNextIcon from &quot;@mui/icons-material/SkipNext&quot;;
import CheckIcon from &quot;@mui/icons-material/Check&quot;;
import DangerousIcon from &quot;@mui/icons-material/Dangerous&quot;;

interface ICalcResult {
  right: number;
  wrong: number;
  skipped: number;
}

const calcResult = (results: IQuizItemResult[]): ICalcResult =&gt; {
  const right = results?.filter((result) =&gt; result.result === EquizItemState.RIGHT).length || 0;
  const wrong = results?.filter((result) =&gt; result.result === EquizItemState.WRONG).length || 0;
  const skipped = results?.filter((result) =&gt; result.result === EquizItemState.SKIPPED).length || 0;
  return { right, wrong, skipped };
};

const LangSelector = () =&gt; {
  const { language, change } = useContext(LangContext);
  const { questions } = useContext(QuestionsContext);
  const answersResults = useContext(ResultsContext);

  const setLanguage = (changeEvent: SelectChangeEvent) =&gt; {
    const langCode: Langs = changeEvent?.target?.value as Langs;
    setCookie(&quot;prog_lang&quot;, langCode);
    langCode !== language &amp;&amp; change(langCode);
  };

  const calculatedResults = useMemo(
    () =&gt; calcResult(answersResults[language] as IQuizItemResult[]),
    [language, answersResults]
  );

  const menuItems = [];

  for (let code in files) {
    const name = files[code as keyof typeof files].name;
    menuItems.push(
      &lt;MenuItem value={code} key={code}&gt;
        {name || &quot;no name&quot;}
      &lt;/MenuItem&gt;
    );
  }

  return (
    &lt;div className={styles.container}&gt;
      &lt;FormControl sx={{ minWidth: 120, width: 300 }}&gt;
        &lt;InputLabel id=&quot;demo-simple-select-label&quot;&gt;Choose assessment&lt;/InputLabel&gt;
        &lt;Select
          labelId=&quot;demo-simple-select-label&quot;
          id=&quot;demo-simple-select&quot;
          label=&quot;Choose assessment language&quot;
          onChange={setLanguage}
          value={language || undefined}
        &gt;
          {menuItems}
        &lt;/Select&gt;
      &lt;/FormControl&gt;
      &lt;div&gt;answers&lt;/div&gt;
      &lt;div className={styles.results}&gt;
        &lt;div title=&quot;correct&quot;&gt;
          &lt;CheckIcon /&gt;
          &amp;nbsp;{calculatedResults.right}
        &lt;/div&gt;
        &lt;div title=&quot;wrong&quot;&gt;
          &lt;DangerousIcon /&gt;
          &amp;nbsp;{calculatedResults.wrong}
        &lt;/div&gt;
        {/* &lt;div title=&quot;skipped&quot;&gt;
          &lt;SkipNextIcon /&gt;
          &amp;nbsp;{calculatedResults.skipped}
        &lt;/div&gt; */}
      &lt;/div&gt;
      &lt;div&gt; of {questions[language]?.length} total questions&lt;/div&gt;
    &lt;/div&gt;
  );
};

export default LangSelector;
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Fri, 04 Nov 2022 23:47:07 GMT</p>
    </body>
  </html>
  